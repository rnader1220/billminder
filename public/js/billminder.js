var dashboard=function(t,a){var e="",n=function(){1==t("#account-div").data("open")&&t("#account-div").slideUp(300,(function(){t("#account-div").html(""),t("#account-div").data("open",!1)})),1==t("#category-div").data("open")&&t("#category-div").slideUp(300,(function(){t("#category-div").html(""),t("#category-div").data("open",!1)})),l("entry")},i=function(){t.ajax({url:"/profile/subscriber",cache:!1,dataType:"json"}).done((function(a){"string"==typeof a.help_text&&(e=a.help_text),"string"!=typeof a.subscribed_at&&t(".subscribe-div").show()})).fail((function(t){utility.ajax_fail(t)}))},l=function(a){t.ajax({url:"/"+a,cache:!1,data:{q:t("#q").val()},dataType:"json"}).done((function(e){t("#"+a+"-div").html(""),"entry"==a&&(0!=e.length||t("#welcome-div").is(":visible")||t("#welcome-div").slideDown(300),0!=e.length&&t("#welcome-div").is(":visible")&&t("#welcome-div").slideUp(300)),e.forEach((function(e){t("#"+a+"-div").append(library.drawElement(a,e))})),t("#"+a+"-div").data("open",!0),t("#"+a+"-div").slideDown(300)})).fail((function(t){utility.ajax_fail(t)}))},o=function(a){t(".modal-body form").on("submit",(function(e){e.preventDefault();var n=t(this).serializeArray();n.push({name:"_token",value:t("meta[name='csrf-token']").attr("content")}),t(this).valid()&&t.ajax({type:"POST",url:"/"+a,data:t.param(n),dataType:"json"}).done((function(t){utility.show_message(t,(function(){c(),l(a)}))})).fail((function(t){utility.ajax_fail(t)}))})).validate(a.update_rules)},r=function(a,e){t.ajax({url:"/"+a+"/"+e,cache:!1,dataType:"json"}).done((function(t){s(a,e,t,(function(){c()}),(function(){}))})).fail((function(t){utility.ajax_fail(t)}))},s=function(a,e,n,i,l){t(".modal-body").html(modal_form.js_form_build(n)),t(".modal-header").html('<h5 class="modal-title">'+n.title+"</h5>"),t(".modal-header").append(modal_form.js_panel_control(n.controls.head)),t(".modal-footer").html(""),"object"==typeof n.actions&&t(".modal-footer").append(modal_form.js_panel_action(n.actions)),t(".modal-footer").append(modal_form.js_panel_control(n.controls.foot)),t("#myModal").is(":visible")||t("#genericModal").modal("show"),utility.set_dynamic_button("#control-cancel",(function(){"function"==typeof i&&i()})),utility.set_dynamic_button(".btn-action",(function(){d(this,a,e)})),utility.set_dynamic_button("#control-save",(function(){t(".modal-body form").submit()})),utility.set_dynamic_button("#control-edit",(function(){h(a,e)})),utility.set_dynamic_button("#control-delete",(function(){f(a,e)})),utility.set_dynamic_button("#control-help",g),"function"==typeof l&&l()},c=function(){t("#genericModal").modal("hide"),utility.reset_dynamic_button("#control-cancel"),utility.reset_dynamic_button("#control-save"),t(".modal-footer").html(""),t(".modal-title").html(""),t(".modal-header").html("")},d=function(a,e,n){action=t(a).data("action"),t.ajax({url:"/"+e+"/"+n+"/action?action="+action,cache:!1,dataType:"json"}).done((function(t){switch(t.action){case"show":s(e,null,t,(function(){c()}),(function(){}));break;case"create":s(e,null,t,(function(){c()}),(function(){u(action,e,n)}));break;case"edit":s(e,null,t,(function(){}),(function(){m(action,e,n)}));break;default:utility.show_message(t,(function(){l(e)}))}})).fail((function(t){utility.ajax_fail(t)}))},u=function(a,e,n){t(".modal-body form").on("submit",(function(i){i.preventDefault();var o=t("form").serializeArray();o.push({name:"_token",value:t("meta[name='csrf-token']").attr("content")}),t.ajax({url:"/"+e+"/"+n+"/action?action="+a,cache:!1,type:"POST",data:t.param(o),dataType:"json"}).done((function(t){c(),utility.show_message(t,(function(){l(e)}))})).fail((function(t){utility.ajax_fail(t)}))}))},m=function(a,e,n){t(".modal-body form").on("submit",(function(i){i.preventDefault();var o=t("form").serializeArray();o.push({name:"_token",value:t("meta[name='csrf-token']").attr("content")}),t.ajax({url:"/"+e+"/"+n+"/action?action="+a,cache:!1,type:"PATCH",data:t.param(o),dataType:"json"}).done((function(t){switch(t.action){case"show":r(e,n);break;case"create":s(e,null,t,(function(){}),(function(){u(e)}));break;case"edit":h(e,n);break;default:utility.show_message(t,(function(){c(),l(e)}))}})).fail((function(t){utility.ajax_fail(t)}))}))},h=function(a,e){t.ajax({url:"/"+a+"/"+e+"/edit",cache:!1,dataType:"json"}).done((function(t){s(a,e,t,(function(){r(a,e)}),(function(){p(a,e)}))})).fail((function(t){utility.ajax_fail(t)}))},p=function(a,e){t(".modal-body form").on("submit",(function(n){n.preventDefault();var i=t(this).serializeArray();i.push({name:"_token",value:t("meta[name='csrf-token']").attr("content")}),t(this).valid()&&t.ajax({type:"PATCH",url:"/"+a+"/"+e,data:t.param(i),dataType:"json"}).done((function(t){utility.show_message(t,(function(){c(),l(a),"category"==a&&l("entry")}))})).fail((function(t){utility.ajax_fail(t)}))})).validate(a.update_rules)},f=function(a,e){var n=[{name:"_token",value:t("meta[name='csrf-token']").attr("content")}];confirm()&&t.ajax({type:"DELETE",url:"/"+a+"/"+e,data:t.param(n),dataType:"json"}).done((function(e){utility.show_message(e,(function(){c(),l(a),t("#genericModal").modal("hide")}))})).fail((function(t){utility.ajax_fail(t)}))},g=function(){t("#help-text").slideDown(300),utility.set_dynamic_button("#control-help",b)},b=function(){t("#help-text").slideUp(300),utility.set_dynamic_button("#control-help",g)};return{initialize:function(){i(),n()},listentry:n,listaccount:function(){1==t("#account-div").data("open")?t("#account-div").slideUp(300,(function(){t("#account-div").html("").data("open",!1)})):(1==t("#category-div").data("open")&&t("#category-div").slideUp(300,(function(){t("#category-div").html("").data("open",!1)})),l("account"))},listcategory:function(){1==t("#category-div").data("open")?t("#category-div").slideUp(300,(function(){t("#category-div").html("").data("open",!1)})):(1==t("#account-div").data("open")&&t("#account-div").slideUp(300,(function(){t("#account-div").html("").data("open",!1)})),l("category"))},helpDashboard:function(){t(".modal-header").html('<h5 class="modal-title">Help</h5>'),t(".modal-header").append(modal_form.js_panel_control([{title:"Close",class:"btn-secondary",id:"control-cancel",icon:"far fa-undo-alt"}])),utility.set_dynamic_button("#control-cancel",c),t(".modal-body").html(e),t(".modal-footer").hide(),t("#myModal").is(":visible")||t("#genericModal").modal("show")},add:function(a,e){url="/"+a+"/create",void 0!==e&&(url+="?income="+e),t.ajax({url:url,cache:!1,dataType:"json"}).done((function(t){s(a,null,t,(function(){c()}),(function(){o(a)}))})).fail((function(t){utility.ajax_fail(t)}))},edit:h,show:r,destroy:f}}(jQuery),subscription=function(t,a){var e=function(){t(".modal-body").html(s),t(".modal-footer").html(modal_form.js_panel_action([{label:"Start My Subscription",title:"Start My Subscription",button_class:"btn-primary m-1",icon:"fas fa-credit-card",id:"utility-advance",action:"post_payment"}])),n(),utility.reset_dynamic_button("#utility-advance"),utility.set_dynamic_button("#utility-advance",(function(){t(".modal-body form").submit()}))},n=function(){t(".modal-body form").on("submit",(function(a){a.preventDefault();var e=t("form").serializeArray();e.push({name:"_token",value:t("meta[name='csrf-token']").attr("content")}),t.ajax({url:"/subscription/new",cache:!1,type:"POST",data:t.param(e),dataType:"json"}).done((function(t){i()})).fail((function(t){utility.ajax_fail(t)}))}))},i=function(){t(".modal-body").html(o),t(".modal-footer").html(modal_form.js_panel_action([{label:"Thank You",title:"Thank You",button_class:"btn-primary m-1",icon:"fas fa-hearts-face",id:"utility-advance",action:"reload-page"}])),utility.reset_dynamic_button("#utility-advance"),utility.set_dynamic_button("#utility-advance",l)},l=function(){t("#genericModal").modal("hide"),utility.reset_dynamic_button("#control-cancel"),utility.reset_dynamic_button("#utility-advance"),t(".modal-footer").html(""),t(".modal-title").html(""),t(".modal-header").html("")},o="<p>Thanks for supporting Billminder, and safe,secure internet applications development. Remember, our subscribers always get new features first, and some features remain exclusives!</p>",r="<p>A subscription helps to fund continued development of Billminder.</p><p>We never have advertisers, and we don't allow user data access to anyone!</p><p>Subscribers always get new features first.</p><p>Some features will always be exclusive to subscribers</p><p>Upcoming Subscriber-Only Features include: <ul><li>downloadable reports</li><li>changable encryption keys for your personal data</li><li>access to your bank accounts for balance and autopay checks</li></ul></p><p>Currently, Subscription is only $30 US per year, and your subscription fee is guaranteed never to increase as long as you are are a subscriber.</p><p>Subscribe today!  Your subscription will be added to your billminder list, as well!</p>",s="<p>Billminder subscription is $30 per year.  This will be added to your billminder list, as well.</p><form id = 'payment-form'><div class='row'><div class='col-12 col-lg-6 offset-lg-3'><label>Name on Card *</label><input class='form-control' name='cardname' placeholder='Name on Card' value='My Name' required></div><div class='col-12 col-lg-6 offset-lg-3'><label>Card Number*</label><input class='form-control' name='cardnum' placeholder='Card Number' value='4242424242424242' required></div><div class='col-lg-2 offset-lg-3 col-sm-12'><label>Month*</label><select class='form-control' name='exp_month' placeholder='MM' required><option value = '01'>01-January</option><option value = '02'>02-February</option><option value = '03'>03-March</option><option value = '04'>04-April</option><option value = '05'>05-May</option><option value = '06'>06-June</option><option value = '07'>07-July</option><option value = '08'>08-August</option><option value = '09'>09-September</option><option value = '10'>10-October</option><option value = '11'>11-November</option><option value = '12'>12-December</option></select></div><div class='col-lg-2 col-sm-12'><label>Year*</label><input class='form-control' name='exp_year' placeholder='YYYY' value='2024' required></div><div class='col-lg-2 col-sm-12'><label>Security Code*</label><input class='form-control' name='cvc' placeholder='***' required value='123'></div></div></form>";return{showOffer:function(){t(".modal-header").html('<h5 class="modal-title">Subscribe Today</h5>'),t(".modal-header").append(modal_form.js_panel_control([{title:"Close",class:"btn-secondary",id:"control-cancel",icon:"far fa-times"}])),t(".modal-body").html(r),t(".modal-footer").html(modal_form.js_panel_action([{label:"Subscribe Now",title:"Subscribe Now",button_class:"btn-success m-1",icon:"fas fa-two-thumbs",id:"utility-advance",action:"collect_payment"}])),t("#myModal").is(":visible")||t("#genericModal").modal("show"),utility.set_dynamic_button("#utility-advance",e),utility.set_dynamic_button("#control-cancel",l)}}}(jQuery),reports=(jQuery,{show:function(){alert("show reports")}}),utility=function(t,a){var e=function(a){d=document.createElement("div"),t(d).html(a).addClass("message-popup").addClass("animated flipInX").appendTo(t("#message")).click((function(){t(this).remove()})).delay(2500).queue((function(){t(this).remove()}))},n=function(a){d=document.createElement("div"),t(d).html(a).addClass("message-popup").addClass("animated flipInX").appendTo(t("#message")).click((function(){t(this).remove()}))},i=function(){t(window).off("resize"),t("#dashboard").slideUp(300),t(".titleFixed").fadeOut(100,(function(){t(".titleFixed").html("")})),t("#content").fadeOut(100,(function(){t("#content").html("")})),t("#dialog").fadeOut(100,(function(){t("#dialog").html("")})),t("#details").fadeOut(100,(function(){t("#details").html("")})),t(".page-wrapper").removeClass("toggled"),t(".overlay").removeClass("active"),feature_chatrooms.set_config({current_chatroom_id:null})},l=function(t){var a=t.status;401==a||419==a?document.location="/login":n("<div class='alert alert-danger message-element w-100 text-center'><strong>Something Went Wrong!</strong><br>The requested action failed.<br>Contact technical support.<br><button class='button-error alert-danger'><span class='far fa-times'></span> Click to Close</button></div>")};return{show_subscriber:function(t){profile_public.set_config({subscriber_id:t}),profile_public.load()},show_message:function(a,i){a.success?(e(a.msg),a.username&&t("#username").html(a.username),undefined!==i&&i(a)):n(a.msg)},initialize:function(){window.matchMedia("(prefers-color-scheme: dark)").matches?t("body").addClass("dark-theme"):t("body").removeClass("dark-theme"),"dark"==localStorage.getItem("theme")&&t("body").addClass("dark-theme")},display_name:function(){t.ajax({type:"GET",url:"profile/username",data:null,success:function(a){t("#username").html(a)}})},show_tab:function(a,e){t(".active").removeClass("active"),e?(t("[id^='tabdiv_']").slideUp(300),t("#tabdiv_"+a).slideDown(300)):(t("[id^='tabdiv_']").hide(),t("#tabdiv_"+a).show()),t("#tab_"+a).addClass("active")},pre_load:i,show_dash:function(){i(),setTimeout((function(){t("#dashboard").slideDown(300)}),300),feature_chatrooms.set_config({current_chatroom_id:null})},ajax_fail:l,action_fail:function(t){l(t)},set_dynamic_button:function(a,e){t(a).show().off("click").on("click",e)},reset_dynamic_button:function(a){t(a).hide().off("click")},show_help:function(a){t(".overlay").addClass("active"),d=document.createElement("div"),t(d).html(a).addClass("help-popup").addClass("animated flipInX").appendTo(t("#message")).click((function(){t(this).remove(),t(".overlay").removeClass("active")}))},logout:function(){t.ajax({type:"POST",url:"/logout",data:{_token:t("meta[name='csrf-token']").attr("content")}}).done((function(t){document.location="/login"})).fail((function(t){utility.ajax_fail(t)}))}}}(jQuery),library=function(t,a){var e=function(t){switch(t){case"income":return'<i class="fa-solid fa-badge-dollar fa-fw" title="Income"></i>';case"late":return'<i class="fa-solid fa-triangle-exclamation fa-fw" title="Late"></i>';case"due":return'<i class="fa-solid fa-alarm-clock fa-fw" title="Due"></i>';case"expense":return'<i class="fa-solid fa-file-invoice-dollar fa-fw" title="Expense"></i>'}},n=function(t){return new Date(t).toDateString().substring(4,10)};return{drawElement:function(t,a){return"entry"===t?function(t){return html="<div class='row'><div class='col-12 mb-2'><div class='app-draw-row entry-"+t.status+"' onclick=\"dashboard.show('entry', "+t.id+');">',html+="<div class='row'>",html+="<div class='col-3 col-lg-1 text-start'>"+e(t.status),html+=1==t.autopay?"<i class='fa fa-solid fa-robot' title='Autopay'></i>":"",html+="</div>",html+="<div class='col-4 col-lg-2 text-end'>",html+=1==t.estimated_date?"<i class='fa fa-solid fa-circle-question' title='Estimated'></i>&nbsp;":"",html+="string"==typeof t.next_due_date?n(t.next_due_date):"<i class='fa fa-solid fa-circle-exclamation' title='Date Not Set'></i>",html+="</div>",html+="<div class='col-5 col-lg-2 text-end'>"+(1==t.estimated_amount?"<i class='fa fa-solid fa-circle-question' title='Estimated'></i>&nbsp;":"")+("0.00"==t.amount?"<i class='fa fa-solid fa-circle-exclamation' title='Amount Not Set'></i>":t.amount)+"</div>",html+="<div class='col-12 col-lg-4 text-start'>"+t.name+"</div>",html+="<div class='d-none d-lg-inline col-lg-3 text-start'>"+("string"!=typeof t.category?"Unassigned":t.category)+"</div>",html+="</div></div></div>",html}(a):function(t,a){return html="<div class='row'><div class='col-12 offset-lg-2 col-lg-8'><div class='app-draw-row category ml-2 mr-4 px-2' onclick=\"dashboard.show('"+t+"', "+a.id+');">',html+=a.label,html+="</div></div></div>",html}(t,a)},drawButton:function(t){htmlString="<button title='"+t.title+"' type='button' ",htmlString+="class='btn btn-primary btn-utility' id='"+t.btn_id+"'>",t.hasOwnProperty("icon")&&(htmlString+="<span class='"+t.icon+"'></span>"),t.hasOwnProperty("label")&&(htmlString+="<span>&nbsp;"+t.label+"</span>"),htmlString+="</button>"}}}(jQuery),modal_form=function(t,a){var e="show",n={input_checkbox:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label><br>"),htmlString+="<label class='cb3switch' ><input type='checkbox' name='"+t.datapoint+"' id='is_"+t.datapoint+"' ",t.hasOwnProperty("cbvalue")?htmlString+=" value='"+t.cbvalue+"' ":htmlString+=" value='1' ",(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==e)&&(htmlString+=" disabled='disabled' "),t.hasOwnProperty("checked")||1==t.value||t.value?htmlString+=" checked ":!t.hasOwnProperty("value")||1!=t.value&&t.value!=t.cbvalue||(htmlString+=" checked "),htmlString+="><span class='cb3slider' for='is_"+t.datapoint+"'></span></label>",htmlString+="</div></div>",htmlString},input_date:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div'",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<div class='input-group'><input class='form-control' type='date' id='"+t.datapoint+"' name='"+t.datapoint+"' ",t.hasOwnProperty("placeholder")&&(htmlString+=" placeholder='"+t.placeholder+"'"),(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==e)&&(htmlString+=" disabled='disabled' "),t.hasOwnProperty("value")&&(htmlString+=" value='"+t.value+"' "),htmlString+=" ></div></div></div>",htmlString},input_hidden:function(t){return htmlString="<input type='hidden' id='"+t.datapoint+"' name='"+t.datapoint+"' ",t.hasOwnProperty("value")&&(htmlString+=" value='"+t.value+"' "),htmlString+=" >",htmlString},input_radio:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div'",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),t.hasOwnProperty("vertical")?htmlString+="<div class='btn-group-vertical btn-group-toggle w-100 text-center' ":htmlString+="<div class='btn-group-toggle w-100 text-center' ",htmlString+=" data-toggle='buttons'>",t.list.forEach((function(a){htmlString+="<label class='btn btn-radio' for='"+t.datapoint+"-"+a.value+"' ><input type='radio' id='"+t.datapoint+"-"+a.value+"' ",t.hasOwnProperty("value")&&t.value==a.value&&(htmlString+=" checked "),(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==e)&&(htmlString+=" disabled='disabled' "),htmlString+="name='"+t.datapoint+"' value='"+a.value+"'> "+a.label+"</label>"})),htmlString+="</div></div></div>",htmlString},input_text:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<div class='input-group'><input type='text' id='"+t.datapoint+"' name='"+t.datapoint+"' ",t.hasOwnProperty("numeric")?htmlString+=" class='form-control text-end' ":htmlString+=" class='form-control' ",t.hasOwnProperty("placeholder")&&(htmlString+=" placeholder='"+t.placeholder+"'"),(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==e)&&(htmlString+=" disabled='disabled' "),t.hasOwnProperty("value")&&(htmlString+=" value='"+t.value+"' "),htmlString+=" ></div></div></div>",htmlString},input_url:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<div class='input-group'>",t.hasOwnProperty("disabled")&&1==t.disabled||"show"==e?htmlString+="<a target='_new' href='"+t.value+"'>"+t.value+"</a>":(htmlString+="<input type='text' id='"+t.datapoint+"' name='"+t.datapoint+"' ",t.hasOwnProperty("placeholder")&&(htmlString+=" placeholder='"+t.placeholder+"'"),t.hasOwnProperty("value")&&(htmlString+=" value='"+t.value+"' "),t.hasOwnProperty("numeric")?htmlString+=" class='form-control text-end'":htmlString+=" class='form-control'",htmlString+=" >"),htmlString+="</div></div></div>",htmlString},input_password:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<div class='input-group'><input type='password' id='"+t.datapoint+"' name='"+t.datapoint+"' ",t.hasOwnProperty("placeholder")&&(htmlString+=" placeholder='"+t.placeholder+"'"),(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==e)&&(htmlString+=" disabled='disabled' "),t.hasOwnProperty("value")&&(htmlString+=" value='"+t.value+"' "),t.hasOwnProperty("numeric")?htmlString+=" class='form-control text-end' ":htmlString+=" class='form-control' ",htmlString+=" ></div></div></div>",htmlString},download:function(t){return"<div class='"+t.grid_class+"'><a href='"+t.value+"' target='_new' class='media'> VIEW FILE</a></div>"},image:function(t){return"<div class='"+t.grid_class+"'><img src='"+t.value+"' class='media' / ></div>"},audio:function(t){return"<audio class='"+t.grid_class+"' controls><source src='"+t.value+"' class='media' / ></audio>"},video:function(t){return"<video class='"+t.grid_class+"' controls><source src='"+t.value+"'  class='media' / ></video>"},select:function(t){return temp=[],htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<select data-live-search='true' class='form-control selectpicker'  id='sel_"+t.datapoint+"' ",t.hasOwnProperty("allow_new")&&(htmlString+=" onChange = 'modal_form.check_new(\""+t.datapoint+" \");' "),t.hasOwnProperty("multiple")&&1==t.multiple?htmlString+="  name='"+t.datapoint+"[]' multiple='multiple' ":htmlString+="  name='"+t.datapoint+"'",(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==e)&&(htmlString+=" disabled='disabled' "),htmlString+=">",t.hasOwnProperty("allow_null")&&(htmlString+="<option ",t.hasOwnProperty("value")&&"-99"!=t.value||(htmlString+="selected "),htmlString+="value = '-99'>- not selected -</option>\n"),t.list.forEach((function(a){htmlString+="<option ",t.hasOwnProperty("value")&&t.value==a.value&&(htmlString+=" selected "),htmlString+="value='"+a.value+"'>",htmlString+=a.label,htmlString+="</option>\n"})),t.hasOwnProperty("allow_new")&&(htmlString+="<option value = '_new'>New "+t.label+"</option>\n"),htmlString+="</select>",t.hasOwnProperty("allow_new")&&(htmlString+="<input class='form-control app-hidden' type='text' id='new_"+t.datapoint+"' name='new_"+t.datapoint+"' >"),t.list.forEach((function(a){t.hasOwnProperty("value")&&t.value==a.value&&a.hasOwnProperty("website")&&""!=a.website&&(htmlString+="<a target='_new' href='"+a.website+"'>"+a.label+"</a>")})),htmlString+="</div></div>",htmlString},textarea:function(t){return htmlString="<div class='"+t.grid_class+"'  id='"+t.datapoint+"_div' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="><div class='form-group'>",t.hasOwnProperty("label")&&(htmlString+="<label for='"+t.datapoint+"' class='control-label'>"+t.label+"</label>"),htmlString+="<textarea class='form-control' ",(t.hasOwnProperty("disabled")&&1==t.disabled||"show"==e)&&(htmlString+=" disabled='disabled' "),t.hasOwnProperty("rows")&&(htmlString+=" rows='"+t.rows+"' "),t.hasOwnProperty("placeholder")&&(htmlString+=" placeholder='"+t.placeholder+"' "),htmlString+=" id='"+t.datapoint+"' name='"+t.datapoint+"' >",t.hasOwnProperty("value")&&(htmlString+=t.value),htmlString+="</textarea>",htmlString+="</div></div>",htmlString},spacer:function(t){return"<div class='"+t.grid_class+"'>&nbsp;</div>"},static_hidden:function(t){return"<div id='"+t.datapoint+"' class='"+t.grid_class+" app-hidden' ><p>"+t.text+"</p></div>"},static_text:function(t){return"<div class='"+t.grid_class+"'><p>"+t.text+"</p></div>"},divider:function(t){return"<div class='"+t.grid_class+"'><hr></div>"},button_control:function(t){return htmlString="<button title='"+t.title+" ' type='button' class='btn "+t.class+" btn-control app-hidden' id='"+t.id+"' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+=">",t.hasOwnProperty("icon")&&(htmlString+="<span class='"+t.icon+"'></span>"),t.hasOwnProperty("caption")&&(htmlString+="<span>&nbsp;"+t.caption+"</span>"),htmlString+="</button>",htmlString},button_action:function(t){return htmlString="<button title='"+t.title+"' type='button' ",t.hasOwnProperty("title")&&(htmlString+=" title='"+t.title+"' "),htmlString+="",t.hasOwnProperty("disabled")&&(htmlString+=" disabled"),t.hasOwnProperty("action")&&(htmlString+=" data-action='"+t.action+"'"),t.hasOwnProperty("data")&&(htmlString+=" "+t.data),htmlString+=" class='btn "+t.button_class+" btn-action app-hidden' id='"+t.id+"'>",t.hasOwnProperty("icon")&&(htmlString+=" <span class='"+t.icon+"'></span>"),t.hasOwnProperty("label")&&(htmlString+=" <span>&nbsp;"+t.label+"</span>"),htmlString+=" </button>",t.hasOwnProperty("grid_class")&&(htmlString="<div class='"+t.grid_class+"'>"+htmlString+"</div>"),htmlString}},i=function(t){return htmlString="",htmlString+="<div class='btn-group'>",t.forEach((function(t){htmlString+=n.button_control(t)})),htmlString+="</div>",htmlString},l=function(t){return n[t.type](t.parameters)};return{js_form_element:l,js_panel_control:function(t){return htmlString="",htmlString+="<div class='modal-control-panel'>",htmlString+=i(t),htmlString+="</div>",htmlString},js_panel_action:function(t){return htmlString="",htmlString+="<div data='yes' class='modal-action-panel'>",t.forEach((function(t){htmlString+=n.button_action(t)})),htmlString+="</div class='modal-action-panel'>",htmlString},js_button_control:i,js_button_action:function(t){return htmlString="",htmlString+=n.button_action(t),htmlString},js_table_build:function(t){return htmlString+="<div class='index-table col-lg-12'>",htmlString+="<table id='"+t.table_name+"' class='hover display-table w-100'>",htmlString+="<tbody></tbody><tfoot></tfoot></table></div>",htmlString},js_form_build:function(t){return e=t.mode,htmlString="<form id='"+t.form_name+"_form' class='form' data-mode='"+t.mode+"' ",t.hasOwnProperty("upload_form")?htmlString+="enctype='multipart/form-data'> ":htmlString+="accept-charset='UTF-8'> ",t.hasOwnProperty("csrf")&&(htmlString+="<input type='hidden' name='_token' value='"+attr.csrf+"'>"),htmlString+="<div class='edit-body container'>",t.form.forEach((function(t){htmlString+="<div class='row'>",t.forEach((function(t,a){"create"==a.mode?(t.parameters.create,!1===t.parameters.create&&(t.parameters.disabled=!0)):"edit"==a.mode&&(t.parameters.edit,!1===t.parameters.edit&&(t.parameters.disabled=!0)),htmlString+=l(t)})),htmlString+="</div>"})),htmlString+="</div>",htmlString+="</form>",htmlString},check_new:function(a){"_new"==t("#sel_"+a).val()?t("#new_"+a).show():t("#new_"+a).hide()}}}(jQuery);
